<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>لوحة مساعدة — MyJSON</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap" rel="stylesheet">
<style>
*{box-sizing:border-box}body{margin:0;font-family:"Tajawal",sans-serif;background:#0b0b12;color:#fff}
.wrap{max-width:720px;margin:24px auto;padding:16px}
.card{background:rgba(18,18,40,.9);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:16px}
.row{display:grid;grid-template-columns:140px 1fr;gap:10px;align-items:center;margin:10px 0}
input{width:100%;padding:12px 14px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.06);color:#fff;font-size:16px}
button{appearance:none;border:none;border-radius:12px;padding:12px 16px;font-weight:800;font-size:16px;cursor:pointer;background:#7a5cff;color:#fff}
.small{font-size:12px;opacity:.8;margin-top:8px}
a.btn{display:inline-block;margin-top:10px;text-decoration:none;background:#2c2c3f;color:#fff;padding:12px 16px;border-radius:12px;border:1px solid rgba(255,255,255,.15)}
</style>
</head>
<body>
<div class="wrap">
  <h1>لوحة التحكّم (تستخدم MyJSON)</h1>
  <div class="card">
    <div class="row">
      <label>رابط MyJSON</label>
      <input id="url" placeholder="https://api.myjson.online/v1/records/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx">
    </div>
    <button id="save">حفظ الرابط</button>
    <div class="small">سيتم حفظ الرابط على جهازك ولا تحتاج لإدخاله مرة أخرى.</div>

    <a id="openEdit" class="btn" target="_blank">فتح MyJSON للتعديل</a>
    <a id="openView" class="btn" target="_blank">فتح صفحة العرض</a>
  </div>
</div>

<script>
const $=id=>document.getElementById(id);
const saved=localStorage.getItem('myjson_data_url')||"";
$('url').value = saved || "https://api.myjson.online/v1/records/f3c971a4-3c36-408b-a054-8720c4316121";
function refreshLinks(){
  const u=$('url').value.trim();
  $('openEdit').href = u.replace("/v1/records/","/v1/records/"); // open same record; you’ll edit on myjson.online site
  $('openEdit').textContent = "فتح MyJSON للتعديل";
  const viewer = location.origin + "/Q8/?data_url=" + encodeURIComponent(u);
  $('openView').href = viewer;
  $('openView').textContent = "فتح صفحة العرض";
}
$('save').onclick=()=>{ localStorage.setItem('myjson_data_url',$('url').value.trim()); refreshLinks(); alert('تم الحفظ ✅'); };
refreshLinks();
</script>
</body>
</html>
